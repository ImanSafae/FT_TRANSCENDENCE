import{s as G,f as g,a as S,g as v,h as I,r as P,c as j,d as k,j as m,z as le,i as T,u as _,x as L,v as M,k as re,D as x,G as ie,l as ne,m as ae,n as ce,p as U,e as F,I as A}from"../chunks/scheduler.33b54330.js";import{S as B,i as J,f as H,b as ee,d as te,m as se,a as E,t as D,c as ue,e as oe,g as de}from"../chunks/index.3452823c.js";import{e as Q}from"../chunks/each.2c88f82a.js";function fe(i){let e,t,l;return{c(){e=g("input"),this.h()},l(r){e=v(r,"INPUT",{class:!0,type:!0}),this.h()},h(){m(e,"class","password-input-box svelte-1gl2rsj"),m(e,"type","text")},m(r,n){T(r,e,n),x(e,i[0]),t||(l=L(e,"input",i[7]),t=!0)},p(r,n){n&1&&e.value!==r[0]&&x(e,r[0])},d(r){r&&k(e),t=!1,l()}}}function pe(i){let e,t,l;return{c(){e=g("input"),this.h()},l(r){e=v(r,"INPUT",{class:!0,type:!0}),this.h()},h(){m(e,"class","password-input-box svelte-1gl2rsj"),m(e,"type","password")},m(r,n){T(r,e,n),x(e,i[0]),t||(l=L(e,"input",i[6]),t=!0)},p(r,n){n&1&&e.value!==r[0]&&x(e,r[0])},d(r){r&&k(e),t=!1,l()}}}function X(i){let e,t="Wrong password. Please try again.";return{c(){e=g("p"),e.textContent=t,this.h()},l(l){e=v(l,"P",{style:!0,"data-svelte-h":!0}),P(e)!=="svelte-173x3rh"&&(e.textContent=t),this.h()},h(){re(e,"color","red")},m(l,r){T(l,e,r)},d(l){l&&k(e)}}}function me(i){let e,t,l,r="This room is private. Enter password:",n,o,c,d,p="👁️",a,s,u="SUBMIT",h,f,C,V,O,K;function W(b,q){return b[1]?fe:pe}let N=W(i),y=N(i),w=i[2]&&X();return{c(){e=g("div"),t=g("div"),l=g("h3"),l.textContent=r,n=S(),o=g("div"),y.c(),c=S(),d=g("span"),d.textContent=p,a=S(),s=g("button"),s.textContent=u,h=S(),f=g("img"),V=S(),w&&w.c(),this.h()},l(b){e=v(b,"DIV",{class:!0});var q=I(e);t=v(q,"DIV",{class:!0});var R=I(t);l=v(R,"H3",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1mxks7j"&&(l.textContent=r),n=j(R),o=v(R,"DIV",{class:!0});var z=I(o);y.l(z),c=j(z),d=v(z,"SPAN",{class:!0,role:!0,tabindex:!0,"data-svelte-h":!0}),P(d)!=="svelte-rra4y7"&&(d.textContent=p),z.forEach(k),a=j(R),s=v(R,"BUTTON",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-ogb7kq"&&(s.textContent=u),h=j(R),f=v(R,"IMG",{class:!0,src:!0,alt:!0}),V=j(R),w&&w.l(R),R.forEach(k),q.forEach(k),this.h()},h(){m(l,"class","svelte-1gl2rsj"),m(d,"class","eye-icon svelte-1gl2rsj"),m(d,"role","button"),m(d,"tabindex","0"),m(o,"class","password-input svelte-1gl2rsj"),m(s,"class","svelte-1gl2rsj"),m(f,"class","lock-img svelte-1gl2rsj"),le(f.src,C="/lock.png")||m(f,"src",C),m(f,"alt","locked padlock"),m(t,"class","password-box svelte-1gl2rsj"),m(e,"class","wrapper svelte-1gl2rsj")},m(b,q){T(b,e,q),_(e,t),_(t,l),_(t,n),_(t,o),y.m(o,null),_(o,c),_(o,d),_(t,a),_(t,s),_(t,h),_(t,f),_(t,V),w&&w.m(t,null),O||(K=L(d,"click",i[3]),O=!0)},p(b,[q]){N===(N=W(b))&&y?y.p(b,q):(y.d(1),y=N(b),y&&(y.c(),y.m(o,c))),b[2]?w||(w=X(),w.c(),w.m(t,null)):w&&(w.d(1),w=null)},i:M,o:M,d(b){b&&k(e),y.d(),w&&w.d(),O=!1,K()}}}function _e(i,e,t){let{roomToCheck:l}=e,{passwordVerified:r=!1}=e,n="",o=!1,c=!1;function d(){t(1,o=!o)}function p(){n=this.value,t(0,n)}function a(){n=this.value,t(0,n)}return i.$$set=s=>{"roomToCheck"in s&&t(5,l=s.roomToCheck),"passwordVerified"in s&&t(4,r=s.passwordVerified)},[n,o,c,d,r,l,p,a]}class he extends B{constructor(e){super(),J(this,e,_e,me,G,{roomToCheck:5,passwordVerified:4})}}function Y(i,e,t){const l=i.slice();return l[4]=e[t],l}function Z(i){let e,t=i[4]+"",l,r,n;return{c(){e=g("li"),l=ne(t),this.h()},l(o){e=v(o,"LI",{class:!0});var c=I(e);l=ae(c,t),c.forEach(k),this.h()},h(){m(e,"class","svelte-16gzo1i")},m(o,c){T(o,e,c),_(e,l),r||(n=L(e,"click",i[1]),r=!0)},p(o,c){c&1&&t!==(t=o[4]+"")&&ce(l,t)},d(o){o&&k(e),r=!1,n()}}}function ge(i){let e,t,l="<h1>PICK A ROOM &amp; COME CHAT</h1>",r,n,o,c,d,p="see my rooms",a=Q(i[0]),s=[];for(let u=0;u<a.length;u+=1)s[u]=Z(Y(i,a,u));return{c(){e=g("div"),t=g("div"),t.innerHTML=l,r=S(),n=g("div"),o=g("ul");for(let u=0;u<s.length;u+=1)s[u].c();c=S(),d=g("li"),d.textContent=p,this.h()},l(u){e=v(u,"DIV",{class:!0});var h=I(e);t=v(h,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-kayiej"&&(t.innerHTML=l),r=j(h),n=v(h,"DIV",{class:!0});var f=I(n);o=v(f,"UL",{class:!0});var C=I(o);for(let V=0;V<s.length;V+=1)s[V].l(C);c=j(C),d=v(C,"LI",{class:!0,"data-svelte-h":!0}),P(d)!=="svelte-1y3ae4j"&&(d.textContent=p),C.forEach(k),f.forEach(k),h.forEach(k),this.h()},h(){m(t,"class","title svelte-16gzo1i"),m(d,"class","svelte-16gzo1i"),m(o,"class","svelte-16gzo1i"),m(n,"class","rooms-list svelte-16gzo1i"),m(e,"class","rooms-container svelte-16gzo1i")},m(u,h){T(u,e,h),_(e,t),_(e,r),_(e,n),_(n,o);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,null);_(o,c),_(o,d)},p(u,[h]){if(h&3){a=Q(u[0]);let f;for(f=0;f<a.length;f+=1){const C=Y(u,a,f);s[f]?s[f].p(C,h):(s[f]=Z(C),s[f].c(),s[f].m(o,c))}for(;f<s.length;f+=1)s[f].d(1);s.length=a.length}},i:M,o:M,d(u){u&&k(e),ie(s,u)}}}let ve="http://159.65.54.159:5173/:3000/chat",we="/roomstatus";async function ke(i){try{let e=await fetch(ve+we,{method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomName:i})});if(e.ok)return await e.json()}catch(e){console.log(e)}}function be(i,e,t){let{roomSelected:l}=e,{passwordRequired:r}=e,n;n=["room1","room2","room3","room4"];async function o(c){const p=c.target.innerText;t(2,l=p),console.log("trying to join",p);let a=await ke(p);a!==void 0&&a?t(3,r=!0):a!==void 0&&!a&&t(3,r=!1),console.log("Attempting to join",p)}return i.$$set=c=>{"roomSelected"in c&&t(2,l=c.roomSelected),"passwordRequired"in c&&t(3,r=c.passwordRequired)},[n,o,l,r]}class ye extends B{constructor(e){super(),J(this,e,be,ge,G,{roomSelected:2,passwordRequired:3})}}function $(i){let e,t,l;function r(o){i[5](o)}let n={roomToCheck:i[0]};return i[2]!==void 0&&(n.passwordVerified=i[2]),e=new he({props:n}),U.push(()=>H(e,"passwordVerified",r)),{c(){ee(e.$$.fragment)},l(o){te(e.$$.fragment,o)},m(o,c){se(e,o,c),l=!0},p(o,c){const d={};c&1&&(d.roomToCheck=o[0]),!t&&c&4&&(t=!0,d.passwordVerified=o[2],A(()=>t=!1)),e.$set(d)},i(o){l||(E(e.$$.fragment,o),l=!0)},o(o){D(e.$$.fragment,o),l=!1},d(o){oe(e,o)}}}function Ce(i){let e,t,l,r,n,o;function c(s){i[3](s)}function d(s){i[4](s)}let p={};i[0]!==void 0&&(p.roomSelected=i[0]),i[1]!==void 0&&(p.passwordRequired=i[1]),e=new ye({props:p}),U.push(()=>H(e,"roomSelected",c)),U.push(()=>H(e,"passwordRequired",d));let a=i[1]&&!i[2]&&$(i);return{c(){ee(e.$$.fragment),r=S(),a&&a.c(),n=F()},l(s){te(e.$$.fragment,s),r=j(s),a&&a.l(s),n=F()},m(s,u){se(e,s,u),T(s,r,u),a&&a.m(s,u),T(s,n,u),o=!0},p(s,[u]){const h={};!t&&u&1&&(t=!0,h.roomSelected=s[0],A(()=>t=!1)),!l&&u&2&&(l=!0,h.passwordRequired=s[1],A(()=>l=!1)),e.$set(h),s[1]&&!s[2]?a?(a.p(s,u),u&6&&E(a,1)):(a=$(s),a.c(),E(a,1),a.m(n.parentNode,n)):a&&(de(),D(a,1,1,()=>{a=null}),ue())},i(s){o||(E(e.$$.fragment,s),E(a),o=!0)},o(s){D(e.$$.fragment,s),D(a),o=!1},d(s){s&&(k(r),k(n)),oe(e,s),a&&a.d(s)}}}function Re(i,e,t){let l,r=!1,n=!1;function o(p){l=p,t(0,l)}function c(p){r=p,t(1,r)}function d(p){n=p,t(2,n)}return[l,r,n,o,c,d]}class Ve extends B{constructor(e){super(),J(this,e,Re,Ce,G,{})}}export{Ve as component};
